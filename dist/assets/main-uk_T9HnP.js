!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e={},t=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));r=Promise.allSettled(s.map(t=>{if((t=function(e){return"/"+e}(t))in e)return;e[t]=!0;const s=t.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const i=document.createElement("link");return i.rel=s?"stylesheet":"modulepreload",s||(i.as="script"),i.crossOrigin="",i.href=t,n&&i.setAttribute("nonce",n),document.head.appendChild(i),s?new Promise((e,s)=>{i.addEventListener("load",e),i.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)})},s=100,n=20,r=50,i=3;class a{constructor(){this.score=s,this.hintsUsed=0,this.maxHints=i,this.hintPenalty=n,this.correctGuessBonus=r,this.currentPlayer=null,this.correctAnswer="",this.gameWon=!1,this.multipleChoiceShown=!1,this.guessTimestamps=[],this.init()}async init(){try{if(this.scoreDisplay=document.querySelector(".score"),this.playerInput=document.getElementById("player-guess"),this.guessBtn=document.getElementById("guess-btn"),this.hintBtn=document.getElementById("hint-btn"),this.hintsRemaining=document.getElementById("hints-remaining"),this.messageEl=document.getElementById("game-message"),this.statsBody=document.getElementById("stats-body"),this.textInputGroup=document.getElementById("text-input-group"),this.playerChoicesContainer=document.getElementById("player-choices"),!this.scoreDisplay||!this.playerInput||!this.statsBody)throw new Error("Critical DOM elements missing");await this.selectRandomPlayer(),this.populateTable(),this.setupEventListeners(),this.updateDisplay()}catch(e){this.handleFatalError(e)}}handleFatalError(e){const t=document.querySelector(".game-area");if(t){const e=document.createElement("div");e.style.cssText="text-align: center; padding: 40px;";const s=document.createElement("h2");s.textContent="Game Error";const n=document.createElement("p");n.textContent="Unable to load the game. Please refresh the page.";const r=document.createElement("button");r.textContent="Refresh Page",r.onclick=()=>location.reload(),e.appendChild(s),e.appendChild(n),e.appendChild(r),t.innerHTML="",t.appendChild(e)}}async selectRandomPlayer(){try{const{PLAYERS_DATA:e}=await t(async()=>{const{PLAYERS_DATA:e}=await import("./player-data-DOEeTWyj.js");return{PLAYERS_DATA:e}},[]);if(!e||!e.length)throw new Error("No players available");const s=Math.floor(Math.random()*e.length);this.currentPlayer=e[s],this.correctAnswer=this.currentPlayer.name.toLowerCase()}catch(e){this.showMessage("Error: Player data not found. Please check data.js","error")}}populateTable(){if(!this.currentPlayer)return;this.statsBody.innerHTML="";this.currentPlayer.seasons.filter(e=>"NHL"===e.league).forEach(e=>{const t=document.createElement("tr"),s=null!==e.plus_minus&&void 0!==e.plus_minus?e.plus_minus:"--",n=e.playoff_gp||"--",r=e.playoff_g||"--",i=e.playoff_a||"--",a=e.playoff_pts||"--",o=e.playoff_pim||"--";t.innerHTML=`\n                <td>${e.season}</td>\n                <td class="team-col hidden">${e.team}</td>\n                <td>${e.gp}</td>\n                <td>${e.g}</td>\n                <td>${e.a}</td>\n                <td>${e.pts}</td>\n                <td>${e.pim}</td>\n                <td>${s}</td>\n                <td class="playoff-col hidden">${n}</td>\n                <td class="playoff-col hidden">${r}</td>\n                <td class="playoff-col hidden">${i}</td>\n                <td class="playoff-col hidden">${a}</td>\n                <td class="playoff-col hidden">${o}</td>\n            `,this.statsBody.appendChild(t)})}setupEventListeners(){this.guessBtn.addEventListener("click",()=>this.handleGuess()),this.hintBtn.addEventListener("click",()=>this.handleHint()),this.playerInput.addEventListener("keypress",e=>{"Enter"===e.key&&this.handleGuess()}),this.playerInput.addEventListener("input",()=>{this.playerInput.classList.remove("incorrect","correct")})}handleGuess(){if(this.gameWon)return void this.showMessage("You already won! Refresh to play again.","info");const e=this.playerInput.value.trim().toLowerCase();e?e===this.correctAnswer?this.handleCorrectGuess():this.handleIncorrectGuess():this.showMessage("Please enter a player name","error")}handleCorrectGuess(){this.gameWon=!0,this.score+=this.correctGuessBonus,this.multipleChoiceShown||(this.playerInput.classList.add("correct"),this.playerInput.disabled=!0,this.guessBtn.disabled=!0),this.hintBtn.disabled=!0,this.revealAllColumns(),this.updateDisplay();const e=0===this.hintsUsed?` Perfect game! Final score: ${this.score}`:` Final score: ${this.score}`;this.showMessage(`Correct! The player was ${this.currentPlayer.name}!${e}`,"success")}handleIncorrectGuess(){this.playerInput.classList.add("incorrect"),setTimeout(()=>{this.playerInput.classList.remove("incorrect")},600),this.showMessage("Incorrect! Try again or use a hint.","error")}async handleHint(){this.gameWon?this.showMessage("You already won!","info"):this.hintsUsed>=this.maxHints?this.showMessage("No more hints available!","error"):(this.hintsUsed++,this.score-=this.hintPenalty,1===this.hintsUsed?(this.revealPlayoffs(),this.showMessage("Playoffs revealed! -20 points","info")):2===this.hintsUsed?(this.revealTeam(),this.showMessage("Team revealed! -20 points","info")):3===this.hintsUsed&&(await this.showMultipleChoice(),this.showMessage("Choose from 4 players! -20 points","info"),this.hintBtn.disabled=!0),this.updateDisplay())}async showMultipleChoice(){this.textInputGroup.classList.add("hidden");const e=await this.generatePlayerChoices();this.playerChoicesContainer.innerHTML="",e.forEach(e=>{const t=document.createElement("button");t.className="player-choice-btn",t.textContent=e,t.addEventListener("click",()=>this.handleMultipleChoiceClick(e,t)),this.playerChoicesContainer.appendChild(t)}),this.playerChoicesContainer.classList.remove("hidden"),this.multipleChoiceShown=!0}async generatePlayerChoices(){const e=[this.currentPlayer.name],{PLAYERS_DATA:s}=await t(async()=>{const{PLAYERS_DATA:e}=await import("./player-data-DOEeTWyj.js");return{PLAYERS_DATA:e}},[]),n=s.filter(e=>e.name!==this.currentPlayer.name).map(e=>e.name);for(;e.length<4&&n.length>0;){const t=Math.floor(Math.random()*n.length);e.push(n[t]),n.splice(t,1)}for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}handleMultipleChoiceClick(e,t){if(this.gameWon)return;if(e.toLowerCase()===this.correctAnswer){t.classList.add("correct-answer");this.playerChoicesContainer.querySelectorAll(".player-choice-btn").forEach(e=>e.disabled=!0),this.handleCorrectGuess()}else t.classList.add("wrong-answer"),t.disabled=!0,this.showMessage("Incorrect! Try another player.","error")}revealPlayoffs(){document.querySelectorAll(".playoffs").forEach(e=>{e.classList.remove("hidden"),e.classList.add("reveal-animation")});document.querySelectorAll(".playoff-col").forEach(e=>{e.classList.remove("hidden"),e.classList.add("reveal-animation")})}revealTeam(){document.querySelectorAll(".team-col").forEach(e=>{e.classList.remove("hidden"),e.classList.add("reveal-animation")})}revealAllColumns(){this.revealPlayoffs(),this.revealTeam()}updateDisplay(){this.scoreDisplay.textContent=`Score: ${this.score}`,this.hintsRemaining.textContent=this.maxHints-this.hintsUsed}showMessage(e,t){this.messageEl.textContent=e,this.messageEl.className=`message ${t} show`,"success"!==t&&setTimeout(()=>{this.messageEl.classList.remove("show")},4e3)}}document.addEventListener("DOMContentLoaded",()=>{new a});
